import { subtractDataset } from './metrics.util';

describe('MetricsUtil', () => {
  it('subtractDataset should subtract one set of values from another', () => {
    const from = [
      ['2017-08-27T00:00:00Z', 52522],
      ['2017-08-28T00:00:00Z', 162900],
      ['2017-08-29T00:00:00Z', 46858],
      ['2017-08-30T00:00:00Z', 52522],
      ['2017-08-31T00:00:00Z', 162900],
      ['2017-09-01T00:00:00Z', 46858],
      ['2017-09-02T00:00:00Z', 52522],
      ['2017-09-03T00:00:00Z', 162900],
      ['2017-09-04T00:00:00Z', 46858],
      ['2017-09-05T00:00:00Z', 52522],
      ['2017-09-06T00:00:00Z', 162900],
      ['2017-09-07T00:00:00Z', 46858]
    ];
    const dataset = [
      ['2017-08-27T00:00:00Z', 522],
      ['2017-08-28T00:00:00Z', 900],
      ['2017-08-29T00:00:00Z', 858],
      ['2017-08-30T00:00:00Z', 522],
      ['2017-08-31T00:00:00Z', 900],
      ['2017-09-01T00:00:00Z', 858],
      ['2017-09-02T00:00:00Z', 522],
      ['2017-09-03T00:00:00Z', 900],
      ['2017-09-04T00:00:00Z', 858],
      ['2017-09-05T00:00:00Z', 522],
      ['2017-09-06T00:00:00Z', 900],
      ['2017-09-07T00:00:00Z', 858]
    ];
    const result = subtractDataset(from, dataset);
    expect(result[0][1]).toEqual(52000);
  });
});
